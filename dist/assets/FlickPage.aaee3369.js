import{g as j,h as x,i as N,f as W,k as E,b as I,l as P,r as T,j as r,F as A,a as n,c as B,w as S}from"./index.3fa03612.js";const U=c=>{const i=Math.floor(c/60),e=c%60;return`${i}h ${e}min`},C="_hero_7fpki_10",h={"flick-page":"_flick-page_7fpki_1",hero:C};function Q(){var u,m;const{flickType:c,flickId:i}=j(),{data:e,isLoading:p,isError:a}=x({flickType:c,flickId:i},{skip:!i}),g=N(),f=W(t=>t.watchList).watchList.some(t=>t.id===i),{name:o,number_of_seasons:k,overview:_,tagline:v,title:s,vote_average:H,id:d}=e||{},$=(u=e==null?void 0:e.genres)==null?void 0:u.map(t=>`${t.name}`).join(", "),b=e!=null&&e.runtime?U(e==null?void 0:e.runtime):`${k} Seasons`,y=`${E}${e==null?void 0:e.poster_path}`,l=(m=e==null?void 0:e.release_date)==null?void 0:m.substring(0,4),L=`${I}${e==null?void 0:e.backdrop_path}`;let w=P();T.exports.useEffect(()=>{d!==i&&a&&w("/movie")},[d,i,a]);const F=()=>{g(S.addFlick({id:i,type:c,title:s||o,poster_path:e==null?void 0:e.poster_path,year:l}))};return r(A,{children:[!p&&r("section",{className:h["flick-page"],children:[r("h2",{children:[s!=null?s:o,r("span",{children:[" ",s&&`(${l})`]})]}),r("div",{className:h.hero,style:{backgroundImage:`url(${L}`},children:[n("figure",{children:n("img",{src:y,alt:`Poster of ${s||o}`})}),r("figcaption",{children:[s!=null?s:o," ",r("span",{children:[" ",s&&`(${l})`]})]})]}),r("p",{children:[n("span",{children:$})," \u2022 ",n("span",{children:b})]}),r("div",{className:h.info,children:[n("h3",{children:v}),n("p",{children:_})]}),n("button",{type:"button",onClick:F,children:f?"Remove from Watchlist":"Add to Watchlist"})]}),a&&n("p",{children:"Error: please try again later."}),p&&n(B,{})]})}export{Q as default};
